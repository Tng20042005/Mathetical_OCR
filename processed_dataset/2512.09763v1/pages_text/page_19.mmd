In this section, we explain and prove how ideas introduced above yields quite simply regularity of the value function of some optimal control problems in the space of probability measures. Once again, we focus here on the case of \mathcal{P}\_{2}(\mathbb{R}^{d}). We comment on several extensions at the end of the section. The core idea of this section is to translate curves in \mathcal{P}\_{2}(\mathbb{R}^{d}). We do not claim we shall be able to translate any curves so we start by explaining in details the curves with which we are going to be interested in. Then, we explain how to translate them, and finally how to use this translations in optimal control problems.

Given a curve (m\_{t})\_{t\in[0,1]} in \mathcal{P}\_{2}(\mathbb{R}^{d}) we would like to translate it to another curve (\tilde{m}(t))\_{t\in[0,1]}. By translation, we mean that if the two curves are sufficiently smooth to have time derivative, then, in some sense, \tilde{m}^{\prime}(t)\in T\_{\tilde{m}(t)} should be a parallel transport of m^{\prime}(t)\in T\_{m(t)}(\mathcal{P}\_{2}(\mathbb{R}^{d})) along a given path between m(t) and \tilde{m}(t). More precisely, since we are motivated by control problems, our fundamental objective is in fact the following: given a curve (m(t))\_{t\in[0,1]} generated by a control (\alpha\_{t})\_{t\in[0,1]} (typically \alpha\_{t}\in T\_{m(t)}(\mathcal{P}\_{2}(\mathbb{R}^{d}))), can we generate another curve (\tilde{m}(t))\_{t\in[0,1]} based on another control (\beta\_{t})\_{t\in[0,1]} which is given so that for all t, \beta\_{t} is a parallel transport of \alpha\_{t} along a certain path between m(t) and \tilde{m}(t) ?

### 7.1. Curves that we want to translate

We focus first on the construction of a curve given a control. When restricting our attention to controls which are deterministic elements of the tangent space, the question is well understood and we recall some facts about it here.

Consider a curve (m\_{t})\_{t\in[0,1]} which is a weak solution of

|  |  |  |  |
| --- | --- | --- | --- |
| (8) |  | \partial\_{t}m+\text{div}\_{x}(\alpha m)=0\text{ in }(0,1)\times\mathbb{R}^{d}, |  |

for some measurable vector field \alpha:[0,1]\times\mathbb{R}^{d}\to\mathbb{R}^{d}. By weak solution, we mean that we can test the previous relation against \mathcal{C}^{1,c}([0,1]\times\mathbb{R}^{d}\to\mathbb{R}^{d}) test functions and obtain the usual relations. Assume that

|  |  |  |  |
| --- | --- | --- | --- |
| (9) |  | \int\_{0}^{1}\|\alpha(s,\cdot)\|\_{L^{2}(m\_{s})}^{2}ds<\infty. |  |

Condition (9) is far from sufficient to guarantee uniqueness of solutions m of (8), nonetheless, it is sufficient to obtain absolute continuity of the curve, and thus a precise sense in which we can understand m^{\prime}(t)\in T\_{m(t)}(\mathcal{P}\_{2}(\mathbb{R}^{d})). It is somehow summarized in Ambrosioâ€™s superposition principle that we recall here.

###### Theorem 7.1 (Thm 8.2.1 in [2]).

If (m\_{t})\_{t\in[0,1]} is a curve in \mathcal{P}\_{2}(\mathbb{R}^{d}) which is a weak solution of (8) and if (9) is satisfied, then there exists a process (X\_{t})\_{t\in[0,1]} such that m\_{t}=\mathcal{L}(X\_{t}) for all t and almost surely

|  |  |  |  |
| --- | --- | --- | --- |
| (10) |  | \forall t\in[0,1],X\_{t}=X\_{0}+\int\_{0}^{t}\alpha(s,X\_{s})ds. |  |

Conversely, if (X\_{t})\_{t\in[0,1]} is a solution of (10) and \int\_{0}^{1}\mathbb{E}[|\alpha(s,X\_{s})|^{2}]ds<\infty, then (\mathcal{L}(X\_{t}))\_{t\in[0,1]} is a weak solution of (8).

Since there is no uniqueness of solutions m of (8) under the sole condition (9), this approach does not allow to talk about the evolution m of associated to a control \alpha but simply about an evolution m associated to the control \alpha.